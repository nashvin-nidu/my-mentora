<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Generator | AI Studio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app-container">
        <header class="app-header">
            <div class="logo">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    <path d="M10 8L16 12L10 16V8Z" fill="currentColor" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round" />
                </svg>
                <h1>AI Video Generator</h1>
            </div>
            <p class="subtitle">Transform your images into stunning videos</p>
        </header>

        <main>
            <form id="videoForm" class="video-form">
                <div class="form-group job-id-group">
                    <label for="jobId">Job ID <span class="badge">Auto-generated</span></label>
                    <div class="input-wrapper">
                        <input type="text" id="jobId" name="jobId" readonly>
                        <button type="button" id="refreshJobId" class="icon-btn" title="Generate new ID">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path d="M23 4V10H17" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                                <path d="M1 20V14H7" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                                <path
                                    d="M3.51 9.00008C4.01717 7.56678 4.87913 6.28544 6.00928 5.28141C7.13943 4.27738 8.49842 3.58496 9.95088 3.27352C11.4033 2.96209 12.8993 3.04233 14.2916 3.50633C15.684 3.97032 16.9256 4.80234 17.9 5.92008L23 10.0001M1 14.0001L6.1 18.0801C7.07442 19.1978 8.31599 20.0298 9.70836 20.4938C11.1007 20.9578 12.5967 21.0381 14.0491 20.7266C15.5016 20.4152 16.8606 19.7228 17.9907 18.7187C19.1209 17.7147 19.9828 16.4334 20.49 15.0001"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </svg>
                        </button>
                    </div>
                </div>

                <div class="segments-container">
                    <div class="section-header">
                        <h2>Video Segments</h2>
                        <button type="button" id="addSegmentBtn" class="btn btn-secondary">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 5V19" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                                <path d="M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </svg>
                            Add Segment
                        </button>
                    </div>

                    <div id="segmentsList" class="segments-list">
                        <!-- Segments will be added here dynamically -->
                    </div>
                </div>

                <div class="form-actions">
                    <button type="submit" id="generateBtn" class="btn btn-primary btn-lg">
                        <span class="btn-text">Generate Video</span>
                        <div class="spinner hidden"></div>
                    </button>
                </div>
            </form>

            <div id="responseArea" class="response-area hidden">
                <div class="result-container">
                    <h3>Video Generated Successfully!</h3>

                    <div class="video-wrapper">
                        <video id="videoPlayer" controls class="video-player">
                            Your browser does not support the video tag.
                        </video>
                    </div>

                    <div class="result-actions">
                        <div class="url-display">
                            <label>Video URL:</label>
                            <div class="url-input-group">
                                <input type="text" id="videoUrlInput" readonly>
                                <a id="videoDownloadLink" href="#" target="_blank" class="btn btn-secondary icon-btn"
                                    title="Open in new tab">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M18 13V19C18 19.5304 17.7893 20.0391 17.4142 20.4142C17.0391 20.7893 16.5304 21 16 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V13"
                                            stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                            stroke-linejoin="round" />
                                        <path d="M15 7L10.5 2.5L6 7" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round" />
                                        <path d="M10.5 2.5V15" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round" />
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </div>

                    <details class="debug-info">
                        <summary>Debug Info</summary>
                        <pre id="responseOutput"></pre>
                    </details>
                </div>
            </div>
        </main>
    </div>

    <template id="segmentTemplate">
        <div class="segment-item">
            <div class="segment-header">
                <span class="segment-number">Segment #</span>
                <button type="button" class="remove-segment-btn icon-btn danger" title="Remove segment">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3 6H5H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                        <path
                            d="M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                </button>
            </div>
            <div class="segment-body">
                <div class="form-group">
                    <label>Image URL</label>
                    <input type="url" class="segment-image-url" placeholder="https://example.com/image.jpg" required>
                </div>
                <div class="form-group">
                    <label>Duration (seconds)</label>
                    <input type="number" class="segment-duration" placeholder="e.g. 5" min="0.1" step="0.1">
                </div>
            </div>
            <div class="segment-preview hidden">
                <img src="" alt="Preview" class="image-preview">
            </div>
        </div>
    </template>

    <script src="script.js"></script>
</body>

</html>